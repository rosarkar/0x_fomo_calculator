<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cost of Inaction Calculator | 0x</title>
  <meta name="description" content="Calculate how much revenue your exchange loses by delaying token listings. Built by 0x.">
  <meta name="theme-color" content="#18181b">
  
  <!-- Open Graph -->
  <meta property="og:title" content="Cost of Inaction Calculator | 0x">
  <meta property="og:description" content="Calculate how much revenue your exchange loses by delaying token listings.">
  <meta property="og:type" content="website">
  
  <!-- React -->
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
  
  <!-- Babel for JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  
  <!-- Recharts -->
  <script src="https://unpkg.com/recharts@2.10.3/umd/Recharts.js"></script>
  
  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
  
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    
    html { 
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
      -webkit-font-smoothing: antialiased;
    }
    
    body { background: #fafafa; color: #18181b; line-height: 1.5; }
    
    .calculator-container { min-height: 100vh; padding: 0.75rem; }
    .calculator-inner { max-width: 80rem; margin: 0 auto; }
    
    /* Header */
    .header { margin-bottom: 1rem; text-align: center; }
    .header-badge { 
      display: inline-flex; align-items: center; gap: 0.5rem;
      background: #fef2f2; border: 1px solid #fecaca; 
      border-radius: 9999px; padding: 0.375rem 1rem; margin-bottom: 0.5rem;
    }
    .header-badge span { color: #b91c1c; font-size: 0.875rem; font-weight: 500; }
    .header h1 { font-size: 1.25rem; font-weight: 700; color: #09090b; margin-bottom: 0.25rem; }
    .header p { color: #52525b; font-size: 0.875rem; max-width: 42rem; margin: 0 auto; }
    
    /* Card */
    .card { background: #fff; border: 1px solid #e4e4e7; border-radius: 0.75rem; overflow: hidden; box-shadow: 0 1px 2px rgba(0,0,0,0.05); }
    .card-layout { display: flex; flex-direction: column; }
    
    /* Control Panel */
    .control-panel { 
      padding: 1rem; border-bottom: 1px solid #e4e4e7; 
      background: rgba(250,250,250,0.5);
    }
    .control-header { display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1rem; }
    .control-header .dot { width: 8px; height: 8px; border-radius: 50%; background: #10b981; }
    .control-header h3 { font-size: 0.75rem; font-weight: 600; color: #3f3f46; text-transform: uppercase; letter-spacing: 0.05em; }
    .control-section { margin-bottom: 1.25rem; }
    .control-section:last-child { margin-bottom: 0; }
    
    /* Labels */
    .label { font-size: 0.75rem; color: #52525b; display: flex; align-items: center; gap: 0.375rem; margin-bottom: 0.5rem; }
    .label-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem; }
    .value { font-family: ui-monospace, monospace; font-weight: 700; font-size: 0.875rem; }
    .value-emerald { color: #047857; }
    .value-amber { color: #b45309; }
    .value-blue { color: #1d4ed8; }
    
    /* Presets */
    .presets { display: grid; grid-template-columns: repeat(4, 1fr); gap: 0.375rem; }
    .preset-btn { 
      padding: 0.5rem; border-radius: 0.5rem; font-size: 0.75rem; font-weight: 500;
      display: flex; flex-direction: column; align-items: center; gap: 0.125rem;
      border: 1px solid #d4d4d8; background: #fff; color: #52525b;
      cursor: pointer; transition: all 0.2s;
    }
    .preset-btn:hover { background: #f4f4f5; color: #18181b; }
    .preset-btn.active { background: #09090b; color: #fff; border-color: #09090b; }
    .preset-btn .emoji { font-size: 1rem; }
    
    /* Sliders */
    input[type="range"] {
      -webkit-appearance: none; appearance: none;
      width: 100%; height: 8px; background: transparent; cursor: pointer;
    }
    input[type="range"]::-webkit-slider-runnable-track { height: 8px; border-radius: 4px; background: #e4e4e7; }
    input[type="range"]::-webkit-slider-thumb { 
      -webkit-appearance: none; width: 18px; height: 18px; border-radius: 50%; 
      background: #18181b; margin-top: -5px; box-shadow: 0 1px 3px rgba(0,0,0,0.2);
    }
    input[type="range"]::-moz-range-track { height: 8px; border-radius: 4px; background: #e4e4e7; }
    input[type="range"]::-moz-range-thumb { 
      width: 18px; height: 18px; border-radius: 50%; background: #18181b; 
      border: none; box-shadow: 0 1px 3px rgba(0,0,0,0.2);
    }
    .slider-emerald::-webkit-slider-thumb { background: #059669; }
    .slider-emerald::-moz-range-thumb { background: #059669; }
    .slider-amber::-webkit-slider-thumb { background: #d97706; }
    .slider-amber::-moz-range-thumb { background: #d97706; }
    .slider-blue::-webkit-slider-thumb { background: #2563eb; }
    .slider-blue::-moz-range-thumb { background: #2563eb; }
    
    /* Competitor Markers */
    .comp-markers { position: relative; height: 20px; margin-top: 0.25rem; }
    .comp-marker { 
      position: absolute; display: flex; flex-direction: column; align-items: center;
      transform: translateX(-50%);
    }
    .comp-marker .dot { width: 6px; height: 6px; border-radius: 50%; }
    .comp-marker .name { font-size: 8px; font-weight: 500; margin-top: 2px; white-space: nowrap; }
    
    /* Alert */
    .alert { 
      margin-top: 0.25rem; padding: 0.5rem; background: #fffbeb; 
      border: 1px solid #fde68a; border-radius: 0.5rem;
    }
    .alert p { font-size: 0.75rem; color: #92400e; }
    .alert strong { font-weight: 600; }
    
    /* Info Box */
    .info-box { 
      padding: 0.625rem; background: #fff; border: 1px solid #e4e4e7; 
      border-radius: 0.5rem; position: relative;
    }
    .info-box-row { display: flex; justify-content: space-between; align-items: flex-start; gap: 0.5rem; }
    .info-box p { font-size: 0.75rem; color: #71717a; }
    .info-box strong { color: #3f3f46; font-weight: 500; }
    .info-btn { color: #a1a1aa; cursor: pointer; background: none; border: none; }
    .info-btn:hover { color: #52525b; }
    
    /* Tooltip */
    .tooltip { 
      position: absolute; bottom: 100%; left: 0; right: 0; margin-bottom: 0.5rem;
      padding: 0.75rem; background: #18181b; border: 1px solid #3f3f46; 
      border-radius: 0.5rem; box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1); z-index: 10;
    }
    .tooltip p { font-size: 0.75rem; color: #f4f4f5; line-height: 1.625; }
    .tooltip .highlight { color: #34d399; font-weight: 600; }
    .tooltip-arrow { 
      position: absolute; bottom: 0; left: 50%; transform: translate(-50%, 100%);
      border: 8px solid transparent; border-top-color: #18181b;
    }
    
    /* Copy Button */
    .copy-btn { 
      width: 100%; display: flex; align-items: center; justify-content: center; gap: 0.5rem;
      padding: 0.75rem 1rem; border-radius: 0.5rem; font-weight: 600; font-size: 0.875rem;
      border: 2px solid #d4d4d8; background: #fff; color: #3f3f46; cursor: pointer;
      transition: all 0.2s;
    }
    .copy-btn:hover { border-color: #a1a1aa; }
    .copy-btn.copied { background: #059669; color: #fff; border-color: #10b981; }
    
    /* Visualization Panel */
    .viz-panel { display: flex; flex-direction: column; background: #fff; }
    
    /* Result Section */
    .result-section { padding: 1rem; background: #fef2f2; border-bottom: 1px solid #fee2e2; }
    .result-label { display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.25rem; }
    .result-label span { font-size: 0.75rem; color: #52525b; text-transform: uppercase; letter-spacing: 0.05em; font-weight: 500; }
    .result-value { 
      font-family: ui-monospace, monospace; font-size: 3rem; font-weight: 700; 
      color: #dc2626; letter-spacing: -0.05em; line-height: 1;
    }
    .result-subtitle { font-size: 0.875rem; color: #71717a; margin-top: 0.5rem; }
    
    /* Stats */
    .stats { display: flex; flex-wrap: wrap; gap: 0.75rem; margin-top: 1rem; }
    .stat { 
      padding: 0.5rem 1rem; border-radius: 0.5rem; text-align: center;
      background: #fff; border: 1px solid #e4e4e7; box-shadow: 0 1px 2px rgba(0,0,0,0.05);
    }
    .stat.green { background: #ecfdf5; border-color: #a7f3d0; }
    .stat-label { font-size: 0.75rem; color: #71717a; }
    .stat.green .stat-label { color: #047857; }
    .stat-value { font-family: ui-monospace, monospace; font-size: 1.125rem; font-weight: 700; }
    .stat-value.red { color: #dc2626; }
    .stat-value.amber { color: #d97706; }
    .stat-value.green { color: #047857; }
    
    /* Chart Section */
    .chart-section { flex: 1; padding: 1rem; }
    .chart-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem; }
    .chart-header h3 { font-size: 0.75rem; color: #71717a; text-transform: uppercase; letter-spacing: 0.05em; font-weight: 500; }
    .chart-legend { display: flex; gap: 0.75rem; font-size: 0.75rem; }
    .chart-legend-item { display: flex; align-items: center; gap: 0.25rem; color: #71717a; }
    .chart-legend-dot { width: 8px; height: 8px; border-radius: 50%; }
    .chart-container { height: 12rem; }
    
    /* Competitor Legend */
    .comp-legend { display: flex; flex-wrap: wrap; justify-content: center; gap: 0.75rem; margin-top: 0.5rem; font-size: 0.75rem; }
    .comp-legend-item { display: flex; align-items: center; gap: 0.25rem; }
    .comp-legend-item.faded { opacity: 0.4; }
    .comp-legend-line { width: 12px; height: 2px; }
    .comp-legend-x { color: #ef4444; font-weight: 700; }
    
    /* CTA Section */
    .cta-section { 
      padding: 1rem; background: #fafafa; border-top: 1px solid #e4e4e7;
      display: flex; flex-direction: column; gap: 0.75rem; align-items: center;
    }
    .cta-text h4 { font-size: 0.875rem; font-weight: 600; color: #18181b; margin-bottom: 0.125rem; }
    .cta-text p { font-size: 0.75rem; color: #71717a; }
    .cta-btn { 
      display: inline-flex; align-items: center; gap: 0.5rem;
      padding: 0.75rem 1.5rem; background: #09090b; color: #fff;
      font-weight: 600; font-size: 0.875rem; border-radius: 0.5rem;
      text-decoration: none; transition: background 0.2s; position: relative; overflow: hidden;
    }
    .cta-btn:hover { background: #27272a; }
    .cta-btn .shine { 
      position: absolute; inset: 0;
      background: linear-gradient(to right, transparent, rgba(255,255,255,0.1), transparent);
      transform: translateX(-100%); transition: transform 0.7s;
    }
    .cta-btn:hover .shine { transform: translateX(100%); }
    
    /* Footer */
    .footer { text-align: center; font-size: 0.75rem; color: #a1a1aa; margin-top: 0.75rem; }
    .footer a { text-decoration: underline; }
    .footer a:hover { color: #52525b; }
    
    /* Custom Text Input */
    .text-input { 
      width: 100%; padding: 0.5rem 0.75rem; border: 1px solid #d4d4d8; 
      border-radius: 0.5rem; font-family: ui-monospace, monospace; font-size: 0.875rem;
      color: #18181b; background: #fff;
    }
    .text-input:focus { outline: none; border-color: #71717a; }
    
    /* Icon wrapper */
    .icon { display: inline-flex; width: 1em; height: 1em; vertical-align: middle; }
    .icon svg { width: 100%; height: 100%; }
    .icon-sm { width: 0.875rem; height: 0.875rem; }
    .icon-md { width: 1rem; height: 1rem; }
    .icon-lg { width: 1.5rem; height: 1.5rem; }
    .icon-red { color: #dc2626; }
    .icon-zinc { color: #71717a; }
    
    /* Recharts Tooltip */
    .recharts-tooltip { 
      background: #fff !important; border: 1px solid #e4e4e7 !important; 
      border-radius: 0.5rem !important; padding: 0.75rem !important;
      box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1) !important;
    }
    
    /* Responsive */
    @media (min-width: 768px) {
      .calculator-container { padding: 1.25rem; }
      .header h1 { font-size: 1.5rem; }
      .card-layout { flex-direction: row; }
      .control-panel { width: 35%; border-bottom: none; border-right: 1px solid #e4e4e7; padding: 1.25rem; }
      .viz-panel { width: 65%; }
      .result-section { padding: 1.25rem; text-align: left; }
      .result-value { font-size: 4.5rem; }
      .result-label { justify-content: flex-start; }
      .stats { justify-content: flex-start; }
      .chart-section { padding: 1.25rem; }
      .chart-container { height: 14rem; }
      .cta-section { flex-direction: row; justify-content: space-between; }
    }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    const { useState, useMemo, useRef, useEffect } = React;
    const { AreaChart, Area, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, ReferenceLine } = Recharts;

    const Icon = ({ name, className }) => {
      const ref = useRef(null);
      useEffect(() => {
        if (ref.current && lucide.icons[name]) {
          ref.current.innerHTML = '';
          const icon = lucide.icons[name];
          const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
          svg.setAttribute('viewBox', '0 0 24 24');
          svg.setAttribute('fill', 'none');
          svg.setAttribute('stroke', 'currentColor');
          svg.setAttribute('stroke-width', '2');
          svg.setAttribute('stroke-linecap', 'round');
          svg.setAttribute('stroke-linejoin', 'round');
          svg.innerHTML = icon[2].map(([tag, attrs]) => {
            const el = document.createElementNS('http://www.w3.org/2000/svg', tag);
            Object.entries(attrs).forEach(([k, v]) => el.setAttribute(k, v));
            return el.outerHTML;
          }).join('');
          ref.current.appendChild(svg);
        }
      }, [name]);
      return <span ref={ref} className={`icon ${className || ''}`} />;
    };

    function Calculator() {
      const [dailyVolume, setDailyVolume] = useState(200);
      const [listingLag, setListingLag] = useState(30);
      const [tradingFee, setTradingFee] = useState(0.25);
      const [captureRate] = useState(15);
      const [copied, setCopied] = useState(false);
      const [tokenName, setTokenName] = useState('PNUT');
      const [selectedPreset, setSelectedPreset] = useState('PNUT');
      const [showTooltip, setShowTooltip] = useState(false);

      const presets = [
        { name: 'PEPE', volume: 500, emoji: 'ðŸ¸' },
        { name: 'PNUT', volume: 200, emoji: 'ðŸ¥œ' },
        { name: 'GOAT', volume: 50, emoji: 'ðŸ' },
        { name: 'Custom', volume: null, emoji: 'âœï¸' },
      ];

      const competitors = [
        { name: 'Binance', day: 3, color: '#f59e0b' },
        { name: 'Bybit', day: 7, color: '#8b5cf6' },
        { name: 'Kraken', day: 14, color: '#0891b2' },
        { name: 'Coinbase', day: 21, color: '#2563eb' },
      ];

      const handlePresetClick = (preset) => {
        setSelectedPreset(preset.name);
        if (preset.volume !== null) {
          setDailyVolume(preset.volume);
          setTokenName(preset.name);
        }
      };

      const lostRevenue = useMemo(() => {
        return dailyVolume * 1_000_000 * listingLag * (captureRate / 100) * (tradingFee / 100);
      }, [dailyVolume, listingLag, tradingFee, captureRate]);

      const totalMissedVolume = useMemo(() => dailyVolume * listingLag * 1_000_000, [dailyVolume, listingLag]);
      const fastestCompetitor = useMemo(() => competitors.filter(c => c.day < listingLag)[0] || null, [listingLag]);
      const competitorsWhoBeatYou = useMemo(() => competitors.filter(c => c.day < listingLag), [listingLag]);

      const chartData = useMemo(() => {
        const data = [];
        const decay = 0.92;
        for (let day = 1; day <= 90; day++) {
          const market = dailyVolume * ((1 - Math.pow(decay, day)) / (1 - decay));
          const capture = day > listingLag ? (dailyVolume * ((1 - Math.pow(decay, day - listingLag)) / (1 - decay))) * (captureRate / 100) : 0;
          data.push({ day, cumulativeMarket: market, cexCapture: capture });
        }
        return data;
      }, [dailyVolume, listingLag, captureRate]);

      const formatCurrency = (value, compact = false) => {
        if (compact) {
          if (value >= 1e9) return `$${(value / 1e9).toFixed(1)}B`;
          if (value >= 1e6) return `$${(value / 1e6).toFixed(1)}M`;
          if (value >= 1e3) return `$${(value / 1e3).toFixed(0)}K`;
          return `$${value.toFixed(0)}`;
        }
        return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0, maximumFractionDigits: 0 }).format(value);
      };

      const generateReport = () => {
        const compLines = competitorsWhoBeatYou.length > 0
          ? competitorsWhoBeatYou.map(c => `  - ${c.name}: Listed Day ${c.day} (${listingLag - c.day} days ahead)`).join('\n')
          : '  - None. You beat all major competitors to market.';
        
        const report = `INTERNAL MEMO: OPPORTUNITY COST ANALYSIS
============================================

DATE: ${new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}
PREPARED BY: Trading Infrastructure Team

ASSET ANALYZED
--------------
Token: ${tokenName}
Estimated Daily Launch Volume: ${formatCurrency(dailyVolume * 1e6, true)}
Your Listing Timeline: ${listingLag} days post-launch
Applied Trading Fee: ${tradingFee.toFixed(2)}%
Capture Rate Assumption: ${captureRate}% (conservative baseline)

REVENUE FOREGONE
----------------
Estimated Lost Fee Revenue: ${formatCurrency(lostRevenue)}
Total Missed Trading Volume: ${formatCurrency(totalMissedVolume, true)}
Daily Revenue Impact: ${formatCurrency(lostRevenue / listingLag, true)}/day

COMPETITIVE BENCHMARKS
----------------------
Exchanges that listed before your Day ${listingLag} timeline:
${compLines}

RECOMMENDATION
--------------
Evaluate integration of hybrid trading infrastructure (e.g., 0x RFQ + AMM aggregation) to capture pre-listing volume without committee approval delays.

NEXT STEPS
----------
Contact 0x Enterprise Team: enterprise@0x.org
Documentation: https://0x.org/docs

============================================
Generated by 0x Cost of Inaction Calculator`;

        navigator.clipboard.writeText(report);
        setCopied(true);
        setTimeout(() => setCopied(false), 3000);
      };

      const CustomTooltip = ({ active, payload, label }) => {
        if (!active || !payload?.length) return null;
        const comp = competitors.find(c => c.day === label);
        const late = comp && listingLag > comp.day;
        return (
          <div style={{ background: '#fff', border: '1px solid #e4e4e7', borderRadius: '0.5rem', padding: '0.75rem', boxShadow: '0 10px 15px -3px rgba(0,0,0,0.1)' }}>
            <p style={{ fontWeight: 600, color: '#18181b', marginBottom: '0.5rem' }}>Day {label}</p>
            {comp && <p style={{ fontSize: '0.75rem', color: late ? '#d97706' : '#a1a1aa', marginBottom: '0.5rem' }}>{late ? `${comp.name} listed here` : `${comp.name} benchmark`}</p>}
            {payload.map((e, i) => <p key={i} style={{ fontSize: '0.75rem', color: e.color }}>{e.name}: {formatCurrency(e.value * 1e6, true)}</p>)}
          </div>
        );
      };

      return (
        <div className="calculator-container">
          <div className="calculator-inner">
            <div className="header">
              <div className="header-badge">
                <Icon name="triangle-alert" className="icon-sm icon-red" />
                <span>Revenue Impact Calculator</span>
              </div>
              <h1>The Cost of Inaction</h1>
              <p>Every day you wait to list a trending token, your competitors are capturing your users' volume.</p>
            </div>

            <div className="card">
              <div className="card-layout">
                <div className="control-panel">
                  <div className="control-header">
                    <div className="dot"></div>
                    <h3>Control Panel</h3>
                  </div>

                  <div className="control-section">
                    <div className="label"><Icon name="sparkles" className="icon-sm" /> Quick Select Token</div>
                    <div className="presets">
                      {presets.map(p => (
                        <button key={p.name} className={`preset-btn ${selectedPreset === p.name ? 'active' : ''}`} onClick={() => handlePresetClick(p)}>
                          <span className="emoji">{p.emoji}</span>
                          <span>{p.name}</span>
                        </button>
                      ))}
                    </div>
                  </div>

                  {selectedPreset === 'Custom' && (
                    <div className="control-section">
                      <div className="label">Token Symbol</div>
                      <input type="text" className="text-input" value={tokenName} onChange={e => setTokenName(e.target.value.toUpperCase())} maxLength={10} placeholder="TOKEN" />
                    </div>
                  )}

                  <div className="control-section">
                    <div className="label-row">
                      <span className="label"><Icon name="dollar-sign" className="icon-sm" /> Daily Volume</span>
                      <span className="value value-emerald">${dailyVolume}M</span>
                    </div>
                    <input type="range" className="slider-emerald" min="1" max="500" value={dailyVolume} onChange={e => { setDailyVolume(+e.target.value); setSelectedPreset('Custom'); }} />
                  </div>

                  <div className="control-section">
                    <div className="label-row">
                      <span className="label"><Icon name="clock" className="icon-sm" /> Your Listing Lag</span>
                      <span className="value value-amber">{listingLag} days</span>
                    </div>
                    <input type="range" className="slider-amber" min="1" max="90" value={listingLag} onChange={e => setListingLag(+e.target.value)} />
                    <div className="comp-markers">
                      {competitors.map(c => (
                        <div key={c.name} className="comp-marker" style={{ left: `${(c.day / 90) * 100}%`, opacity: listingLag > c.day ? 1 : 0.3 }}>
                          <div className="dot" style={{ background: c.color }}></div>
                          <span className="name" style={{ color: c.color }}>{c.name}</span>
                        </div>
                      ))}
                    </div>
                    {fastestCompetitor && (
                      <div className="alert">
                        <p><strong>{fastestCompetitor.name}</strong> listed Day {fastestCompetitor.day}. They captured {listingLag - fastestCompetitor.day} days of volume before you.</p>
                      </div>
                    )}
                  </div>

                  <div className="control-section">
                    <div className="label-row">
                      <span className="label"><Icon name="percent" className="icon-sm" /> Trading Fee</span>
                      <span className="value value-blue">{tradingFee.toFixed(2)}%</span>
                    </div>
                    <input type="range" className="slider-blue" min="10" max="100" value={tradingFee * 100} onChange={e => setTradingFee(+e.target.value / 100)} />
                  </div>

                  <div className="control-section">
                    <div className="info-box">
                      <div className="info-box-row">
                        <p><strong>Capture rate:</strong> {captureRate}% (conservative)</p>
                        <button className="info-btn" onMouseEnter={() => setShowTooltip(true)} onMouseLeave={() => setShowTooltip(false)} onClick={() => setShowTooltip(!showTooltip)}>
                          <Icon name="info" className="icon-sm" />
                        </button>
                      </div>
                      {showTooltip && (
                        <div className="tooltip">
                          <p><span className="highlight">Context:</span> Top memecoins often see 40-60% of total volume occur on-chain before major CEX listings. The 15% capture rate is a conservative baseline.</p>
                          <div className="tooltip-arrow"></div>
                        </div>
                      )}
                    </div>
                  </div>

                  <button className={`copy-btn ${copied ? 'copied' : ''}`} onClick={generateReport}>
                    <Icon name={copied ? 'check' : 'copy'} className="icon-md" />
                    {copied ? 'Copied to Clipboard' : 'Copy Memo for Leadership'}
                  </button>
                </div>

                <div className="viz-panel">
                  <div className="result-section">
                    <div className="result-label">
                      <Icon name="trending-down" className="icon-lg icon-red" />
                      <span>Revenue Lost on ${tokenName}</span>
                    </div>
                    <div className="result-value">{formatCurrency(lostRevenue)}</div>
                    <p className="result-subtitle">from {formatCurrency(totalMissedVolume, true)} missed volume over {listingLag} days</p>
                    <div className="stats">
                      <div className="stat">
                        <div className="stat-label">Per Day</div>
                        <div className="stat-value red">{formatCurrency(lostRevenue / listingLag, true)}</div>
                      </div>
                      <div className="stat">
                        <div className="stat-label">Volume Missed</div>
                        <div className="stat-value amber">{formatCurrency(totalMissedVolume, true)}</div>
                      </div>
                      <div className="stat green">
                        <div className="stat-label">With 0x</div>
                        <div className="stat-value green">+{formatCurrency(lostRevenue, true)}</div>
                      </div>
                    </div>
                  </div>

                  <div className="chart-section">
                    <div className="chart-header">
                      <h3>Volume Capture Timeline</h3>
                      <div className="chart-legend">
                        <div className="chart-legend-item"><div className="chart-legend-dot" style={{ background: '#059669' }}></div> Market</div>
                        <div className="chart-legend-item"><div className="chart-legend-dot" style={{ background: '#2563eb' }}></div> You</div>
                      </div>
                    </div>
                    <div className="chart-container">
                      <ResponsiveContainer width="100%" height="100%">
                        <AreaChart data={chartData} margin={{ top: 5, right: 5, left: 0, bottom: 0 }}>
                          <defs>
                            <linearGradient id="mg" x1="0" y1="0" x2="0" y2="1">
                              <stop offset="5%" stopColor="#059669" stopOpacity={0.25}/>
                              <stop offset="95%" stopColor="#059669" stopOpacity={0.02}/>
                            </linearGradient>
                            <linearGradient id="cg" x1="0" y1="0" x2="0" y2="1">
                              <stop offset="5%" stopColor="#2563eb" stopOpacity={0.3}/>
                              <stop offset="95%" stopColor="#2563eb" stopOpacity={0.02}/>
                            </linearGradient>
                          </defs>
                          <CartesianGrid strokeDasharray="3 3" stroke="#f4f4f5" />
                          <XAxis dataKey="day" stroke="#a1a1aa" tick={{ fill: '#71717a', fontSize: 9 }} tickLine={{ stroke: '#d4d4d8' }} />
                          <YAxis stroke="#a1a1aa" tick={{ fill: '#71717a', fontSize: 9 }} tickLine={{ stroke: '#d4d4d8' }} tickFormatter={v => `$${v}M`} width={45} />
                          <Tooltip content={<CustomTooltip />} />
                          {competitors.map(c => {
                            const late = listingLag > c.day;
                            return <ReferenceLine key={c.name} x={c.day} stroke={c.color} strokeOpacity={late ? 0.9 : 0.2} strokeWidth={late ? 2 : 1} strokeDasharray={late ? "0" : "4 4"} label={late ? { value: `${c.name} Listed`, position: 'insideTopRight', fill: c.color, fontSize: 9, fontWeight: 600 } : undefined} />;
                          })}
                          <ReferenceLine x={listingLag} stroke="#dc2626" strokeWidth={2} strokeDasharray="6 3" label={{ value: `You: Day ${listingLag}`, position: 'top', fill: '#dc2626', fontSize: 10, fontWeight: 'bold' }} />
                          <Area type="monotone" dataKey="cumulativeMarket" stroke="#059669" strokeWidth={2} fill="url(#mg)" name="Market Volume" />
                          <Area type="monotone" dataKey="cexCapture" stroke="#2563eb" strokeWidth={2} fill="url(#cg)" name="Your Capture" />
                        </AreaChart>
                      </ResponsiveContainer>
                    </div>
                    <div className="comp-legend">
                      {competitors.map(c => {
                        const late = listingLag > c.day;
                        return (
                          <div key={c.name} className={`comp-legend-item ${late ? '' : 'faded'}`}>
                            <div className="comp-legend-line" style={{ background: late ? c.color : 'transparent', borderTop: late ? 'none' : `1px dashed ${c.color}` }}></div>
                            <span style={{ color: '#52525b' }}>{c.name} D{c.day}</span>
                            {late && <span className="comp-legend-x">âœ—</span>}
                          </div>
                        );
                      })}
                    </div>
                  </div>
                </div>
              </div>

              <div className="cta-section">
                <div className="cta-text">
                  <h4>Capture Day 1 volume without the listing process.</h4>
                  <p>0x gives your users instant access to 9M+ tokens. No committee. No delays.</p>
                </div>
                <a href="https://0x.org/docs" target="_blank" rel="noopener noreferrer" className="cta-btn">
                  <span className="shine"></span>
                  <span style={{ position: 'relative', zIndex: 1, display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                    Talk to Enterprise Team
                    <Icon name="chevron-right" className="icon-md" />
                  </span>
                </a>
              </div>
            </div>

            <p className="footer">
              Calculations are illustrative. Competitor listing times are industry averages.
              Â· Built by <a href="https://0x.org" target="_blank" rel="noopener noreferrer">0x</a> Â· $154B+ volume since 2017
            </p>
          </div>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<Calculator />);
  </script>
</body>
</html>
